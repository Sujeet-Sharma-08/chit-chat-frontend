import{r as h,u as f,_ as n,b as j,j as e,L as N}from"./index-DKqoYbWn.js";const w=()=>{const s="https://chit-chat-application-backend.onrender.com/api/v1",[a,t]=h.useState({fullname:"",username:"",password:"",confirmPassword:"",gender:"male"}),[i,m]=h.useState(!1),g=f();return{formData:a,handleChange:o=>{const{name:c,value:d}=o.target;t(r=>({...r,[c]:d}))},submitHandler:async o=>{var p,x;o.preventDefault();const{fullname:c,username:d,password:r,confirmPassword:u,gender:b}=a;if(!c||!d||!r||!u||!b){n.error("Please fill out all fields!");return}if(d.length>=7){n.error("usename can't exceed 7 more character!");return}if(r!==u){n.error("Passwords do not match.");return}if(r.length<6){n.error("Passwords must be at least 6 characters long!");return}m(!0);try{const l=await j.post(`${s}/auth/signup`,a,{withCredentials:!0});n.success(l.data.message),t({fullname:"",username:"",password:"",confirmPassword:"",gender:"male"}),g("/login")}catch(l){console.log("Signup error:",l),l.response&&l.response.status===409&&n.error((x=(p=l.response)==null?void 0:p.data)==null?void 0:x.message)}finally{m(!1)}},loading:i}},P=()=>{const{formData:s,handleChange:a,submitHandler:t,loading:i}=w();return e.jsx("div",{className:"flex flex-col items-center justify-center max-w-md mx-auto p-2 md:p-0",children:e.jsxs("div",{className:"w-full p-6 md:mt-8 rounded-lg shadow-md bg-gray-400 bg-clip-padding backdrop-filter bg-opacity-0 backdrop-blur-lg",children:[e.jsx("h1",{className:"text-3xl font-semibold text-center -mt-5 text-gray-300",children:"Sign Up"}),e.jsxs("form",{onSubmit:t,children:[e.jsxs("div",{children:[e.jsx("label",{className:"label p-2",children:e.jsx("span",{className:"text-base label-text text-gray-200",children:"Full Name"})}),e.jsx("input",{type:"text",name:"fullname",placeholder:"Enter Full Name",className:"input input-bordered w-full h-10",value:s.fullname,onChange:a})]}),e.jsxs("div",{children:[e.jsx("label",{className:"label p-2",children:e.jsx("span",{className:"text-base label-text text-gray-200",children:"Username"})}),e.jsx("input",{type:"text",name:"username",placeholder:"Enter Username",className:"input input-bordered w-full h-10",value:s.username,onChange:a})]}),e.jsxs("div",{children:[e.jsx("label",{className:"label p-2",children:e.jsx("span",{className:"text-base label-text text-gray-200",children:"Password"})}),e.jsx("input",{type:"password",name:"password",placeholder:"Enter Password",className:"input input-bordered w-full h-10",value:s.password,onChange:a})]}),e.jsxs("div",{children:[e.jsx("label",{className:"label p-2",children:e.jsx("span",{className:"text-base label-text text-gray-200",children:"Confirm Password"})}),e.jsx("input",{type:"password",name:"confirmPassword",placeholder:"Enter Confirm Password",className:"input input-bordered w-full h-10",value:s.confirmPassword,onChange:a})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("span",{className:"text-base label-text text-gray-200 ml-2",children:"Gender"}),e.jsxs("div",{className:"flex gap-10 mt-2",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"male",type:"radio",name:"gender",value:"male",checked:s.gender==="male",onChange:a,className:"mr-2"}),e.jsx("label",{htmlFor:"male",children:"Male"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"female",type:"radio",name:"gender",value:"female",checked:s.gender==="female",onChange:a,className:"mr-2"}),e.jsx("label",{htmlFor:"female",children:"Female"})]})]})]}),e.jsxs(N,{to:"/login",className:"text-sm hover:underline hover:text-blue-600 mt-2 inline-block",children:["Already have an account? ",e.jsx("span",{className:"underline text-blue-300",children:"login"})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",className:"btn btn-block btn-sm mt-2 inline-block h-9",disabled:i,children:i?"Signing Up...":"Sign Up"})})]})]})})};export{P as default};
