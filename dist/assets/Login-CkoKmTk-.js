import{r as p,u,a as m,_ as l,b as h,l as x,j as e,L as g}from"./index-DKqoYbWn.js";const b=()=>{const t="https://chit-chat-application-backend.onrender.com/api/v1",[a,n]=p.useState({username:"",password:""}),o=u(),i=m();return{loginFormData:a,handleChange:r=>{n({...a,[r.target.name]:r.target.value})},loginSubmitHandler:async r=>{r.preventDefault();const{username:c,password:d}=a;if(!c||!d){l.error("Provide all credentials!");return}try{const s=await h.post(`${t}/auth/login`,a,{withCredentials:!0});i(x(s.data)),l.success(s.data.message),n({username:"",password:""}),o("/chatpage")}catch(s){s.response&&(s.response.status===404?l.error(s.response.data.message):s.response.status===401&&l.error(s.response.data.message))}}}},w=()=>{const{loginFormData:t,handleChange:a,loginSubmitHandler:n}=b();return e.jsx("div",{className:"flex  flex-col items-center justify-center max-w-96 mx-auto p-2 md:p-0",children:e.jsxs("div",{className:"w-full p-6 mt-20 rounded-lg shadow-md bg-gray-400 bg-clip-padding backdrop-filter bg-opacity-0 backdrop-blur-lg",children:[e.jsx("h1",{className:"text-3xl font-semibold text-center text-gray-300",children:"Login"}),e.jsxs("form",{onSubmit:n,children:[e.jsxs("div",{children:[e.jsx("label",{className:"label p-2",children:e.jsx("span",{className:"text-base label-text",children:"Username"})}),e.jsx("input",{type:"text",name:"username",placeholder:"Enter username",className:"input input-bordered w-full h-10",value:t.username,onChange:a})]}),e.jsxs("div",{children:[e.jsx("label",{className:"label p-2",children:e.jsx("span",{className:"text-base label-text",children:"Password"})}),e.jsx("input",{type:"password",name:"password",placeholder:"Enter password",className:"input input-bordered w-full h-10",value:t.password,onChange:a})]}),e.jsxs(g,{to:"/signup",className:"text-sm hover:underline hover:text-blue-600 mt-2 inline-block",children:["Don't"," have an account? ",e.jsx("span",{className:"underline text-blue-300",children:"sign up"})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",className:"btn btn-block btn-sm mt-2 inline-block h-9",children:"Login"})})]})]})})};export{w as default};
